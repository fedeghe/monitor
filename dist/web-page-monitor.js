/*!
 * web-page-monitor 0.0.1
 * fedeghe <fedeghe@gmail.com>
 */
var WebPageMonitor;!function(){"use strict";var e={426:function(n,t,e){var o=e(15),i=e.n(o),o=e(645),i=e.n(o)()(i());i.push([n.id,".MEMmonitor ul {\n  padding: 0;\n  margin: 0;\n}\nul {\n  list-style: none;\n}\n.title {\n  margin-bottom: 5px;\n  display: inline-block;\n  font-weight: bold;\n}\n.flexi {\n  display: flex;\n  justify-content: space-between;\n}\n","",{version:3,sources:["webpack://./source/monitors/style.less"],names:[],mappings:"AAAA;EAEQ,UAAA;EACA,SAAA;AAAR;AAGA;EACI,gBAAA;AADJ;AAGA;EACI,kBAAA;EACA,qBAAA;EACA,iBAAA;AADJ;AAGA;EACI,aAAA;EACA,8BAAA;AADJ",sourcesContent:[".MEMmonitor {\n    ul {\n        padding:0;\n        margin:0;\n    }\n}\nul {\n    list-style: none\n}\n.title {\n    margin-bottom:5px;\n    display: inline-block;\n    font-weight:bold\n}\n.flexi {\n    display:flex;\n    justify-content: space-between;\n}"],sourceRoot:""}]),t.Z=i},175:function(n,t,e){var o=e(15),i=e.n(o),o=e(645),i=e.n(o)()(i());i.push([n.id,".monitor-panel {\n  pointer-events: none;\n  position: fixed;\n  bottom: 0px;\n  right: 0px;\n  width: 150px;\n  /* border:3px dotted white; */\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  padding: 5px;\n  padding-bottom: 0px;\n  border-top-left-radius: 6px;\n  font-family: verdana;\n  font-size: 0.8em;\n  display: flex;\n  flex-direction: column;\n}\n.monitor-canvas {\n  width: 200px;\n  height: 100px;\n}\n.x-panel {\n  border-radius: 3px;\n  margin-bottom: 5px;\n  padding: 5px;\n  color: greenyellow;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n","",{version:3,sources:["webpack://./source/style.less"],names:[],mappings:"AAAA;EACI,oBAAA;EACA,eAAA;EACA,WAAA;EACA,UAAA;EACA,YAAA;EACF,6BAA6B;EAC3B,oCAAA;EACA,aAAA;EACA,YAAA;EACA,mBAAA;EACA,2BAAA;EACA,oBAAA;EACA,gBAAA;EACA,aAAA;EACA,sBAAA;AACJ;AAEA;EACI,YAAA;EACA,aAAA;AAAJ;AAEA;EACI,kBAAA;EACA,kBAAA;EACA,YAAA;EACA,kBAAA;EACA,oCAAA;AAAJ",sourcesContent:[".monitor-panel {\n    pointer-events: none;\n    position: fixed;\n    bottom: 0px;\n    right: 0px;\n    width: 150px;\n    /* border:3px dotted white; */\n    background-color: rgba(0,0,0,0.5);\n    z-index:1000;\n    padding:5px;\n    padding-bottom:0px;\n    border-top-left-radius:6px;\n    font-family:verdana;\n    font-size:0.8em;\n    display:flex;\n    flex-direction: column;\n}\n\n.monitor-canvas {\n    width:200px;\n    height:100px;\n}\n.x-panel {\n    border-radius:3px;\n    margin-bottom:5px;\n    padding:5px;\n    color:greenyellow;\n    background-color: rgba(0,0,0,0.8);\n}\n\n.high-panel{\n    // background-color: #550000;\n    // height: 150px;\n}\n.mid-panel{\n    // background-color: #005500;\n    // height: 100px;\n}\n.small-panel{\n    // background-color: #000055;\n    // height: 50px;\n}"],sourceRoot:""}]),t.Z=i},645:function(n){n.exports=function(e){var c=[];return c.toString=function(){return this.map(function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t}).join("")},c.i=function(n,t,e){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(e)for(var i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(var a=0;a<n.length;a++){var s=[].concat(n[a]);e&&o[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),c.push(s))}},c}},15:function(n){function i(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var e=[],o=!0,i=!1,r=void 0;try{for(var a,s=n[Symbol.iterator]();!(o=(a=s.next()).done)&&(e.push(a.value),!t||e.length!==t);o=!0);}catch(n){i=!0,r=n}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}return e}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return o(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}n.exports=function(n){var t=i(n,4),e=t[1],o=t[3];if("function"!=typeof btoa)return[e].join("\n");n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),t="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),n="/*# ".concat(t," */"),t=o.sources.map(function(n){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(n," */")});return[e].concat(t).concat([n]).join("\n")}},379:function(n,t,i){var e,o,s=function(){return e=void 0===e?Boolean(window&&document&&document.all&&!window.atob):e},r=(o={},function(n){if(void 0===o[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}o[n]=t}return o[n]}),l=[];function u(n){for(var t=-1,e=0;e<l.length;e++)if(l[e].identifier===n){t=e;break}return t}function c(n,t){for(var e={},o=[],i=0;i<n.length;i++){var r=n[i],a=t.base?r[0]+t.base:r[0],s=e[a]||0,c="".concat(a," ").concat(s);e[a]=s+1;s=u(c),r={css:r[1],media:r[2],sourceMap:r[3]};-1!==s?(l[s].references++,l[s].updater(r)):l.push({identifier:c,updater:function(t,n){var e,o,i;{var r;i=n.singleton?(r=A++,e=f=f||d(n),o=h.bind(null,e,r,!1),h.bind(null,e,r,!0)):(e=d(n),o=function(n,t,e){var o=e.css,i=e.media,e=e.sourceMap;i?n.setAttribute("media",i):n.removeAttribute("media");e&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(e))))," */"));if(n.styleSheet)n.styleSheet.cssText=o;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(o))}}.bind(null,e,n),function(){var n;null!==(n=e).parentNode&&n.parentNode.removeChild(n)})}return o(t),function(n){n?n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap||o(t=n):i()}}(r,t),references:1}),o.push(c)}return o}function d(n){var t,e=document.createElement("style"),o=n.attributes||{};if(void 0!==o.nonce||(t=i.nc)&&(o.nonce=t),Object.keys(o).forEach(function(n){e.setAttribute(n,o[n])}),"function"==typeof n.insert)n.insert(e);else{n=r(n.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}return e}var a,p=(a=[],function(n,t){return a[n]=t,a.filter(Boolean).join("\n")});function h(n,t,e,o){e=e?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;n.styleSheet?n.styleSheet.cssText=p(t,e):(o=document.createTextNode(e),(e=n.childNodes)[t]&&n.removeChild(e[t]),e.length?n.insertBefore(o,e[t]):n.appendChild(o))}var f=null,A=0;n.exports=function(n,r){(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=s());var a=c(n=n||[],r);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var t=0;t<a.length;t++){var e=u(a[t]);l[e].references--}for(var n=c(n,r),o=0;o<a.length;o++){var i=u(a[o]);0===l[i].references&&(l[i].updater(),l.splice(i,1))}a=n}}}}},o={};function C(n){if(o[n])return o[n].exports;var t=o[n]={id:n,exports:{}};return e[n](t,t.exports,C),t.exports}C.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return C.d(t,{a:t}),t},C.d=function(n,t){for(var e in t)C.o(t,e)&&!C.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},C.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},C.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var M={};!function(){function n(){this.appended=!1}C.r(M),C.d(M,{WebPageMonitor:function(){return E}}),n.prototype.render=function(n){this.appended=!0,n.appendChild(this.$panel)};var t=n;function e(n,e){function t(){}t.prototype=e.prototype,n.prototype=new t,(n.prototype.constructor=n).superClass=e.prototype,n.baseConstructor=e,n.super=function(n){var t=[].slice.call(arguments,1);e.apply(n,t)}}function l(n,t){var e,o=1<arguments.length&&void 0!==t?t:{},i=o.className,r=void 0!==i&&i,a=o.text,t=void 0!==a&&a,i=o.html,a=void 0!==i&&i,i=o.attributes,s=void 0===i?{}:i,o=o.childs,o=void 0===o?[]:o,c=document.createElement(n);for(e in r&&(c.className=r),t&&(c.innerText=t),a&&(c.innerHTML=a),o.length&&u(c,o),s)c.setAttribute(e,s[e]);return c}function u(t,n){n.forEach(function(n){t.appendChild(n)})}function o(n,t){this.width=n,this.height=t,this.tag=l("canvas",{attributes:{width:n,height:t}}),this.ctx=this.tag.getContext("2d"),this.ctx.fillStyle="black",this.ctx.strokeStyle="#00FF00",this.data=[],this.normalized=[],this.max=0}o.prototype.clear=function(){this.ctx.fillRect(0,0,this.width,this.height)},o.prototype.normalize=function(n){return this.max?n*this.height/this.max:this.height},o.prototype.add=function(n){this.data.push(n);var t=this.normalize(n),e=this.data.reduce(function(n,t){return t<n?n:t},0),n=this.data.length>this.width?1:0;this.data=this.data.slice(n),e!==this.max?(this.normalized=this.data.map(this.normalize.bind(this)),this.max=e):this.normalized.push(t),this.normalized=this.normalized.slice(n),this.render()},o.prototype.drawPx=function(n,t,e,o,i,r){var a=this.ctx.getImageData(0,0,this.width,this.height),t=4*(n+t*this.width);a.data[0+t]=e,a.data[1+t]=o,a.data[2+t]=i,a.data[3+t]=r},o.prototype.getTag=function(){return this.tag},o.prototype.render=function(){var e=this,o=this;this.clear(),this.normalized.forEach(function(n,t){o.ctx.beginPath(),e.ctx.strokeStyle="rgba(0,256,0, 0.5)",o.ctx.moveTo(t,o.height),o.ctx.lineTo(t,o.height-n),o.ctx.stroke()})};var d=o,i=C(379),r=C.n(i),a=C(426),i={insert:"head",singleton:!1};function s(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.$panel=l("div",{className:"high-panel x-panel"});var o,t=l("span",{text:"FPSmonitor",className:"title"}),i=l("span"),r=new d(140,n.height||50),a=[];u(this.$panel,[t,i,r.getTag()]),function e(){window.requestAnimationFrame(function(){for(var n=performance.now();0<a.length&&a[0]<=n-1e3;)a.shift();a.push(n);var t=a.length;o=60<t?60:t,i.innerHTML=": ".concat(o," fps"),r.add(o),e()})}()}r()(a.Z,i),a.Z.locals,e(s,t);var c=s;function p(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.$panel=l("div",{className:"small-panel x-panel"});var t=l("div",{text:"TAGSmonitor",className:"title"}),e=l("span"),o=new d(140,n.height||50);u(this.$panel,[t,e,o.getTag()]),setInterval(function(){var n=document.getElementsByTagName("*").length;e.innerHTML=": ".concat(n),o.add(n)},n.frequency?1e3/n.frequency:1e3)}e(p,t);var h=p;function f(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.$panel=l("div",{className:"mid-panel x-panel MEMmonitor"});var t=l("div",{text:"MEMmonitor",className:"title"}),e=l("li"),o=new d(140,n.height||50),i=l("li"),r=new d(140,n.height||50),a=l("li"),s=l("ul"),c=Math.pow(2,20);u(s,[t,e,o.getTag(),i,r.getTag(),a]),u(this.$panel,[s]),setInterval(function(){var n=(performance.memory.totalJSHeapSize/c).toFixed(2),t=(performance.memory.usedJSHeapSize/c).toFixed(2);e.innerHTML="Total: ".concat(n,"MB"),i.innerHTML="Used: ".concat(t,"MB"),a.innerHTML="Limit: ".concat((performance.memory.jsHeapSizeLimit/c).toFixed(2),"MB"),o.add(n),r.add(t)},n.frequency?1e3/n.frequency:1e3)}e(f,t);var A=f;function m(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this;this.min=1/0,this.max=-1/0,this.events=[],this.options=n,this.$panel=l("div",{className:"small-panel x-panel"}),this.$title=l("div",{text:"EVENTSmonitor",className:"title"}),this.$stats=l("div",{className:"flexi"}),this.$actual=l("span"),this.$max=l("span");var e=new d(140,n.height||50);u(this.$stats,[this.$actual,this.$max]),u(this.$panel,[this.$title,this.$stats,e.getTag()]),this.listen(),setInterval(function(){var n=t.events.length;t.max=Math.max(t.max,n),t.$actual.innerHTML="Actual: ".concat(n),t.$max.innerHTML="Max: ".concat(t.max),t.events=[],e.add(n)},n.frequency?1e3/n.frequency:1e3)}e(m,t),m.prototype.add=function(n){this.events.push(n)},m.prototype.listen=function(){var t=this,n=Object.keys(window).reduce(function(n,t){return/^on/.test(t)&&n.push(t),n},[]);console.log(n.join(",")),Object.keys(window).forEach(function(n){/^on/.test(n)&&(!t.options.exclude||t.options.exclude.indexOf(n)<0)&&window.addEventListener(n.slice(2),function(n){t.add(n)},!0)})};var g=m;function v(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.$panel=l("div",{className:"mid-panel x-panel NETWORKmonitor"});var t=l("div",{text:"NETWORKmonitor",className:"title"}),e=l("span"),o=Math.pow(2,20);u(this.$panel,[t,e]),setInterval(function(){var n=performance.getEntries().reduce(function(n,t){return n+(t.transferSize||0)},0);e.innerHTML="Total: ".concat((n/o).toFixed(2)," MB")},n.frequency?1e3/n.frequency:1e3)}e(v,t);var x=v,y=function(n,t){switch(n){case"fps":return new c(t);case"mem":return new A(t);case"tags":return new h(t);case"net":return new x(t);case"events":return console.log("options2",t),new g(t);default:return null}};function b(){this.container=document.createElement("div"),this.container.className="monitor-panel",this.panels=[]}b.prototype.addPanel=function(n,t){return this.panels.push(y(n,t)),this},b.prototype.render=function(n){this.container.innerHTML="";var t=this;this.panels.forEach(function(n){n.render(t.container)}),n.appendChild(this.container)};var i=b,a=C(175),t={insert:"head",singleton:!1},w=(r()(a.Z,t),a.Z.locals,new i),E={showFPS:function(n){return w.addPanel("fps",n),out},showMEM:function(n){return w.addPanel("mem",n),out},showTAGS:function(n){return w.addPanel("tags",n),out},showEVENTS:function(n){return w.addPanel("events",n),out},showNET:function(n){return w.addPanel("net",n),out},render:function(){return w.render(document.body)}}}(),WebPageMonitor=M}();